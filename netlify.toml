# QueRegalo - Netlify Configuration
# Serverless con Netlify Functions (sin servidor persistente)
# Compatible con FREE TIER de Netlify

[build]
  # Build command: instala dependencias para Netlify Functions
  command = "npm install"
  # Publish: carpeta del frontend
  publish = "public"
  # Functions directory
  functions = "netlify/functions"

[dev]
  # Desarrollo local con netlify dev
  command = "netlify dev"
  port = 3000

# Redirects para SPA (Single Page Application)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Redirects para API endpoints → Netlify Functions
# Una sola function (api.js) maneja todas las rutas
# /api/* → /.netlify/functions/api
# La function parsea el path completo y determina qué hacer
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/api"
  status = 200
  force = true
